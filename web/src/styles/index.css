@import "tailwindcss";
/* ====== TOKENS de color (light/dark) ====== */
@layer base {
  :root {
    --color-bg:        #f8fafc;
    --color-fg:        #0a0a0a;
    --color-muted:     #52525b;
    --color-card:      #ffffff;
    --color-border:    #e5e7eb;
    --color-elev-bg:   #ffffff;
  }
  .dark {
    --color-bg:        #0b0b0e;
    --color-fg:        #e5e7eb;
    --color-muted:     #a1a1aa;
    --color-card:      #0f1115;
    --color-border:    #27272a;
    --color-elev-bg:   #0f1115;
  }
  html, body {
    background-color: var(--color-bg);
    color: var(--color-fg);
  }
}

/* ====== Design system: utilidades propias ====== */
@layer components {
  .tw-card {
    @apply rounded-2xl border border-zinc-200 bg-white shadow-sm
           dark:border-zinc-800 dark:bg-zinc-900;
  }

  .tw-section {
    @apply border-b border-zinc-200 px-4 py-3 text-sm font-semibold text-zinc-600
           dark:border-zinc-800 dark:text-zinc-300;
  }

  .tw-label {
    @apply block text-sm font-medium text-zinc-700 dark:text-zinc-300;
  }

  .tw-input {
    @apply w-full rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-900 shadow-sm outline-none
           focus:ring-2 focus:ring-blue-500/40
           dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100;
  }

  /* ❗️ANTES poníamos @apply tw-input; ahora duplicamos utilidades */
  .tw-select {
    @apply w-full rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-900 shadow-sm outline-none
           focus:ring-2 focus:ring-blue-500/40 pr-8
           dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100;
  }

  .tw-textarea {
    @apply w-full rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-900 shadow-sm outline-none
           focus:ring-2 focus:ring-blue-500/40 min-h-[96px]
           dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100;
  }

  .tw-btn {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold transition
           disabled:cursor-not-allowed disabled:opacity-60;
  }
  .tw-btn-primary {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold transition
           disabled:cursor-not-allowed disabled:opacity-60
           bg-blue-600 text-white hover:bg-blue-700;
  }
  .tw-btn-ghost {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold transition
           disabled:cursor-not-allowed disabled:opacity-60
           border border-zinc-300 bg-white text-zinc-900 hover:bg-zinc-50
           dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100 dark:hover:bg-zinc-800/80;
  }
  .tw-btn-danger {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold transition
           disabled:cursor-not-allowed disabled:opacity-60
           bg-red-600 text-white hover:bg-red-700;
  }

  .tw-badge {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-bold ring-1;
  }
  .tw-badge-muted {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-bold ring-1
           bg-zinc-100 text-zinc-700 ring-zinc-300
           dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700;
  }
  .tw-badge-ok {
    @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-bold ring-1
           bg-emerald-100 text-emerald-700 ring-emerald-300
           dark:bg-emerald-950/40 dark:text-emerald-200 dark:ring-emerald-900/50;
  }
}

/* ====== Alias de compatibilidad (.btn, .btn-primary, etc.) ======
   ⚠️ Ya NO usamos @apply con clases custom: definimos utilidades completas. */
@layer components {
  .btn,
  .tw-btn {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-semibold transition
           disabled:cursor-not-allowed disabled:opacity-60;
  }

  .btn-primary,
  .tw-btn-primary {
    @apply bg-blue-600 text-white hover:bg-blue-700;
  }

  .btn-ghost,
  .tw-btn-ghost {
    @apply border border-zinc-300 bg-white text-zinc-900 hover:bg-zinc-50
           dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100 dark:hover:bg-zinc-800/80;
  }

  .btn-danger,
  .tw-btn-danger {
    @apply bg-red-600 text-white hover:bg-red-700;
  }
}

/* Fallback de sr-only/not-sr-only (solo si hiciera falta) */
@layer base {
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
  .not-sr-only {
    position: static !important;
    width: auto !important;
    height: auto !important;
    padding: 0 !important;
    margin: 0 !important;
    overflow: visible !important;
    clip: auto !important;
    white-space: normal !important;
  }
}
