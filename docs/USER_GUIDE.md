# Guía de Usuario - Sistema RRHH

## Índice
- [Introducción](#introducción)
- [Roles y Permisos](#roles-y-permisos)
- [Dashboard y Analíticas](#dashboard-y-analíticas)
- [Gestión de Beneficios](#gestión-de-beneficios)
- [Gestión de Documentos](#gestión-de-documentos)
- [Portal del Empleado](#portal-del-empleado)
- [FAQs](#faqs)

---

## Introducción

Bienvenido al Sistema de RRHH. Esta guía te ayudará a navegar y usar las principales funcionalidades del sistema.

### Acceso al Sistema

1. Navega a la URL del sistema
2. Ingresa tu email y contraseña
3. Click en "Iniciar Sesión"

### Restablecer Contraseña

1. Click en "¿Olvidaste tu contraseña?"
2. Ingresa tu email
3. Recibirás un enlace por email
4. Sigue el enlace y establece nueva contraseña

---

## Roles y Permisos

### Roles Predefinidos

**Administrador**
- Acceso completo al sistema
- Puede gestionar todos los módulos
- Puede crear roles personalizados

**RRHH (HR)**
- Gestión completa de empleados
- Reclutamiento y selección
- Asistencias y licencias
- Beneficios
- Reportes

**Manager**
- Ver información de su equipo
- Aprobar licencias
- Ver reportes
- Gestionar asistencias de su equipo

**Empleado**
- Ver su propia información
- Solicitar licencias
- Registrar asistencia
- Ver beneficios asignados
- Acceder a documentos personales

**Reclutador (Recruiter)**
- Gestionar candidatos
- Gestionar vacantes
- Programar entrevistas
- Ver clientes

### Ver Mis Permisos

1. Click en tu perfil (esquina superior derecha)
2. Selecciona "Mis Permisos"
3. Verás tu rol actual y permisos asignados

### Gestionar Roles (Solo Admin/HR)

1. Navega a "Roles" en el sidebar
2. Verás roles predefinidos y personalizados
3. Para crear un rol personalizado:
   - Click en "Crear Rol Personalizado"
   - Ingresa nombre y descripción
   - Selecciona permisos por módulo
   - Click en "Crear Rol"

---

## Dashboard y Analíticas

### Vista General del Dashboard

El dashboard principal muestra:
- KPIs de reclutamiento
- Métricas de empleados
- Asistencia
- Licencias
- Próximas entrevistas
- Vacantes abiertas

### Analíticas Avanzadas

**Acceso**: Sidebar → "Analíticas"

#### KPIs Disponibles

**Reclutamiento:**
- Total de candidatos
- Vacantes activas
- Aplicaciones del mes
- Tiempo promedio de contratación
- Candidatos por etapa del proceso

**Empleados:**
- Empleados activos
- Nuevas contrataciones (mes/año)
- Distribución por departamento
- Distribución por puesto

**Asistencia:**
- Tasa promedio de asistencia
- Horas totales del mes
- Llegadas tarde
- Salidas tempranas

**Licencias:**
- Pendientes de aprobación
- Aprobadas del mes
- Rechazadas del mes
- Distribución por tipo

**Beneficios:**
- Costo mensual total
- Asignaciones activas
- Costo por empleado
- Distribución por tipo

#### Gráficos de Tendencias

**Nuevas Contrataciones:**
- Selector de rango: 3, 6, o 12 meses
- Gráfico de área mostrando contrataciones por mes

**Aplicaciones:**
- Selector de rango: 3, 6, o 12 meses
- Gráfico de línea mostrando aplicaciones recibidas

**Asistencia:**
- Selector de rango: 7, 30, o 90 días
- Gráfico de área mostrando tasa de asistencia diaria

### Exportar Datos

Los gráficos pueden capturarse con screenshot o los datos pueden exportarse desde los módulos correspondientes.

---

## Gestión de Beneficios

### Para HR/Administradores

#### Crear Beneficio

1. Navega a "Beneficios"
2. Click en "Crear Beneficio"
3. Completa el formulario:
   - **Nombre**: Ej. "Seguro Médico Premium"
   - **Tipo**: Selecciona de 14 opciones disponibles
   - **Descripción**: Detalles del beneficio
   - **Costo Empresa**: Costo mensual para la empresa
   - **Costo Empleado**: Costo mensual para el empleado
   - **Frecuencia**: Mensual, Trimestral, Anual, o Único
   - **Proveedor**: Nombre del proveedor (opcional)
   - **Elegibilidad**:
     - Meses mínimos de antigüedad
     - Roles elegibles
     - Departamentos elegibles
   - **Requiere Aprobación**: Sí/No
4. Click en "Guardar"

#### Asignar Beneficio a Empleado

1. Busca el beneficio en la lista
2. Click en "Asignar"
3. Selecciona empleado
4. Establece fechas de inicio/fin (opcional)
5. Agrega notas (opcional)
6. Click en "Asignar Beneficio"

#### Aprobar Asignación

1. Ve a la sección de "Pendientes de Aprobación"
2. Revisa la solicitud
3. Click en "Aprobar" o "Rechazar"
4. Si rechazas, indica el motivo

#### Ver Resumen de Costos

1. Click en "Resumen de Costos"
2. Verás:
   - Costo mensual total
   - Costo anual proyectado
   - Costo por empleado
   - Desglose por tipo de beneficio

### Para Empleados

#### Ver Mis Beneficios

1. En el Portal del Empleado, navega a "Mis Beneficios"
2. Verás:
   - **Beneficios Activos**: Card de cada beneficio activo
   - **Pendientes**: Beneficios en espera de aprobación
   - **Historial**: Todos los beneficios pasados

#### Información Mostrada

- Nombre del beneficio
- Tipo
- Costo para ti
- Costo para la empresa
- Fecha de inicio/fin
- Estado
- Proveedor

---

## Gestión de Documentos

### Para Empleados

#### Ver Mis Documentos

1. Portal del Empleado → "Mis Documentos"
2. Verás grid de todos tus documentos

#### Buscar Documentos

- **Barra de búsqueda**: Busca por nombre o descripción
- **Filtro por tipo**: DNI, CV, Contrato, Certificado, Foto, Otro

#### Ver Preview de Documento

1. Click en el botón "Ver" (solo para PDFs e imágenes)
2. Se abrirá modal con preview del documento
3. Puedes descargar desde el preview
4. Click en X para cerrar

#### Descargar Documento

1. Click en el botón "Descargar"
2. El archivo se descargará automáticamente

#### Ver Historial de Versiones

1. Click en el ícono de reloj (History)
2. Se abrirá modal mostrando todas las versiones
3. La versión actual está marcada con badge "Actual"
4. Puedes ver o descargar cualquier versión anterior

### Para HR/Administradores

#### Subir Documento para Empleado

1. Ve al perfil del empleado
2. Sección de "Documentos"
3. Click en "Subir Documento"
4. Selecciona archivo (máx. 10MB)
5. Selecciona tipo de documento
6. Agrega descripción (opcional)
7. Agrega tags (opcional)
8. Click en "Subir"

#### Crear Nueva Versión

1. Encuentra el documento original
2. Click en "Nueva Versión"
3. Selecciona nuevo archivo
4. Agrega notas de versión (ej: "Actualizado salario")
5. Click en "Subir Nueva Versión"

Nota: La versión anterior se marcará automáticamente como "no actual" y se incrementará el número de versión.

#### Búsqueda Avanzada

La búsqueda incluye:
- Nombre del archivo
- Descripción
- Tags
- Full-text search en contenido indexado

---

## Portal del Empleado

### Acceso

Los empleados tienen un portal dedicado con funcionalidades específicas.

**URL**: `/employee`

### Secciones Disponibles

#### Mi Perfil
- Ver información personal
- Información de contacto
- Información laboral
- No editable (contacta a HR para cambios)

#### Mis Documentos
- Ver todos tus documentos
- Descargar archivos
- Ver historial de versiones
- Preview de PDFs e imágenes

#### Mis Liquidaciones
- Ver recibos de sueldo
- Descargar PDFs
- Historial completo

#### Mis Licencias
- Ver balance de días disponibles
- Solicitar nueva licencia
- Ver historial
- Ver solicitudes pendientes

#### Mi Asistencia
- Registrar entrada/salida
- Ver registros del mes
- Horas trabajadas
- Llegadas tarde/salidas tempranas

#### Mis Beneficios
- Ver beneficios activos
- Costo mensual
- Información de proveedores
- Historial de beneficios

---

## FAQs

### General

**P: ¿Cómo cambio mi contraseña?**
R: Perfil → Configuración → Cambiar Contraseña

**P: ¿Puedo acceder desde móvil?**
R: Sí, el sistema es responsive y funciona en móviles y tablets.

**P: ¿Los datos están seguros?**
R: Sí, todos los datos están encriptados y aislados por empresa (multi-tenant).

### Permisos

**P: ¿Puedo ver información de otros empleados?**
R: Solo si tienes permisos de HR, Manager, o Admin.

**P: ¿Cómo solicito más permisos?**
R: Contacta a tu administrador o departamento de HR.

**P: ¿Puedo crear roles personalizados?**
R: Solo usuarios con permiso `users.manage` pueden crear roles personalizados.

### Documentos

**P: ¿Qué tamaño máximo pueden tener los archivos?**
R: 10MB por archivo.

**P: ¿Qué tipos de archivos puedo previsualizar?**
R: PDFs e imágenes. Otros tipos solo se pueden descargar.

**P: ¿Se eliminan las versiones anteriores?**
R: No, todas las versiones se mantienen en el historial.

**P: ¿Puedo eliminar un documento?**
R: Solo HR/Administradores pueden eliminar documentos.

### Beneficios

**P: ¿Cómo solicito un beneficio?**
R: Contacta a HR. Ellos asignarán el beneficio si eres elegible.

**P: ¿Por qué fue rechazado mi beneficio?**
R: Revisa el motivo en la notificación o contacta a HR.

**P: ¿Cuándo se activa un beneficio aprobado?**
R: En la fecha de inicio especificada al asignarlo.

### Analíticas

**P: ¿Con qué frecuencia se actualizan las métricas?**
R: Los KPIs se actualizan cada 5 minutos automáticamente.

**P: ¿Puedo exportar los datos?**
R: Actualmente se pueden tomar screenshots. Exportaciones están planificadas para Sprint 4.

**P: ¿Por qué no veo la sección de Analíticas?**
R: Necesitas el permiso `reports.read`. Contacta a tu administrador.

---

## Soporte

### Contacto

**Email**: soporte@example.com
**Horario**: Lunes a Viernes, 9:00 - 18:00

### Reportar un Problema

1. Incluye captura de pantalla si es posible
2. Describe qué estabas haciendo
3. Menciona el navegador y dispositivo
4. Indica si el error es recurrente

### Solicitar Nueva Funcionalidad

Envía tu solicitud a soporte con:
- Descripción de la funcionalidad
- Caso de uso
- Beneficio esperado
- Prioridad estimada

---

## Changelog

**Sprint 3** (Octubre 2025):
- ✅ Dashboard y Analíticas
- ✅ Gestión de Roles y Permisos (UI)
- ✅ Sistema de Beneficios
- ✅ Mejoras de Documentos (Versionado, Búsqueda, Preview)

**Sprint 2** (Septiembre 2025):
- ✅ Sistema de Asistencias
- ✅ Configuración Regional
- ✅ RBAC Backend
- ✅ Import/Export
- ✅ Emails Automáticos

**Sprint 1** (Agosto 2025):
- ✅ Recuperación de contraseña
- ✅ Expansión de empleados
- ✅ Sistema de licencias
- ✅ Auditoría
- ✅ Notificaciones

---

**Última actualización**: Sprint 3 - Octubre 2025
**Versión del documento**: 3.0
